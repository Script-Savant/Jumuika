{{ define "content" }}
<div class="row">
  <div class="col-md-8">
    <img src="{{ .Meetup.ImageURL }}" class="img-fluid rounded mb-3" alt="Meetup image">
    <h2 class="fw-bold">{{ .Meetup.Title }}</h2>
    <p class="text-muted">{{ .Meetup.StartTime.Format "Mon, Jan 2, 2006 3:04 PM" }}</p>
    <p>{{ .Meetup.Description }}</p>

    <h5 class="mt-5">Comments</h5>
    <div class="list-group mt-3">
      {{ range .Comments }}
      <div class="list-group-item">
        <strong>{{ .User.Username }}</strong>
        <p class="mb-0">{{ .Content }}</p>
      </div>
      {{ else }}
      <p class="text-muted">No comments yet.</p>
      {{ end }}
    </div>

    <form action="/meetups/{{ .Meetup.ID }}/comment" method="POST" class="mt-3">
      <textarea name="content" class="form-control mb-2" placeholder="Leave a comment..."></textarea>
      <button class="btn btn-primary btn-sm">Post Comment</button>
    </form>
  </div>

  <div class="col-md-4">
    <div class="card shadow-sm border-0 p-3">
      <h5 class="fw-bold">Attendees ({{ len .Attendees }})</h5>
      <ul class="list-group list-group-flush mb-3">
        {{ range .Attendees }}
        <li class="list-group-item">{{ .User.Username }}</li>
        {{ end }}
      </ul>
      <form action="/meetups/{{ .Meetup.ID }}/rsvp" method="POST">
        <button class="btn btn-success w-100">Join Meetup</button>
      </form>
    </div>
  </div>
</div>
{{ end }}
